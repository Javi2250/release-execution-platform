pipeline {
  agent any

  options {
    timestamps()              // â± Logs con hora
    ansiColor('xterm')        // ğŸ¨ Logs con color
  }

  stages {

    stage('Checkout') {
      steps {
        echo "\u001B[34mğŸ“¥ Checkout del cÃ³digo\u001B[0m"
        checkout scm
      }
    }

    stage('Execute') {
      steps {
        echo "\u001B[33mğŸš€ Ejecutando run.sh\u001B[0m"
        sh '''
          set -e
          chmod +x run.sh
          ./run.sh
        '''
      }
    }

  }

  post {
    success {
      script {
        currentBuild.displayName = "#${env.BUILD_NUMBER} âœ…"
        currentBuild.description = "Execution OK"
      }
      echo "\u001B[32mğŸ‰ Pipeline ejecutado correctamente\u001B[0m"
    }

    failure {
      script {
        currentBuild.displayName = "#${env.BUILD_NUMBER} âŒ"
        currentBuild.description = "Execution FAILED"
      }
      echo "\u001B[31mâŒ Pipeline fallido\u001B[0m"
    }
  }
}
